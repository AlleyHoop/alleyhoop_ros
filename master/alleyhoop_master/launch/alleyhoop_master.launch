<launch>
    <!--launch args-->
    <arg name="enable_arduino_slave" default="false"/>
    <arg name="enable_pi_camera" default="false"/>
    <arg name="enable_fake_pi_camera" default="false"/>
    <arg name="enable_lidar" default="false"/>

    <!--launch slave communication-->
    <group if="$(arg enable_arduino_slave)">
        <node name="arduino_slave" pkg="rosserial_python" type="serial_node.py" args="/dev/ttyACM0" output="screen"/>
    </group>

    <!--launch pi camera-->
    <group if="$(arg enable_pi_camera)">
        <node name="pi_camera" pkg="raspi_utils" type="raspi_camera.py" output="screen"/>
    </group>

    <!--launch fake pi camera-->
    <group if="$(arg enable_fake_pi_camera)">
        <node name="pi_camera" pkg="raspi_utils" type="fake_raspi_camera.py" output="screen" cwd="node"/>
    </group>

    <!--launch lidar-->
    <group if="$(arg enable_lidar)">
        <include file="$(find rplidar_ros)/launch/rplidar.launch" output="screen"/>
    </group>

    <!--launch core node-->
    <node name="alleyhoop_ros_master" pkg="alleyhoop_master" type="alleyhoop_ros_node" output="screen"/>
    
</launch>